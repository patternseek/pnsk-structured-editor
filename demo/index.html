<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>pnsk-structured-editor</title>
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <script src="./minimalComponent.js"></script>
    <!-- Sadly it doesn't seem possible to include the Facebook SDK from within a component
        as it needs to be in the main head -->
    <script src="//connect.facebook.net/en_US/sdk.js#xfbml=1&amp;version=v2.5" async></script>
    <link rel="import" href="../../pnsk-structured-editor-prosemirror/pnsk-structured-editor-prosemirror.html">
    <link rel="import" href="../pnsk-structured-editor-quill.html">
    <link rel="import" href="../pnsk-structured-editor-blockquote.html">
    <link rel="import" href="../pnsk-structured-editor-anchor.html">
    <link rel="import" href="../pnsk-structured-editor-javascript.html">
    <link rel="import" href="../pnsk-structured-editor-legacy-html.html">
    <link rel="import" href="../pnsk-structured-editor-image.html">
    <link rel="import" href="../pnsk-structured-editor-iframe.html">
    <link rel="import" href="../pnsk-structured-editor-facebook-post.html">
    <link rel="import" href="../pnsk-structured-editor-tiktok-post.html">
    <link rel="import" href="../pnsk-structured-editor-tweet.html">
    <link rel="import" href="../pnsk-structured-editor-twitter-timeline.html">
    <link rel="import" href="../pnsk-structured-editor-youtube.html">
    <link rel="import" href="../pnsk-structured-editor-vimeo.html">
    <link rel="import" href="../pnsk-structured-editor-soundcloud.html">
    <!-- Load last to avoid requirejs errors, in quill currently -->
    <link rel="import" href="../pnsk-structured-editor.html">
    
</head>
<body>


    <form action="">

        <pnsk-structured-editor
                available-types='[
                    {"type": "rich-text", "element":"pnsk-structured-editor-prosemirror", "lable":"Legacy Text "},
                    {"type": "quill", "element":"pnsk-structured-editor-quill", "lable":"Text",
                        "config":{ 
                            "editorconfig":{
                                "placeholder": "Type here...",
                                "formats": ["bold","italic","underline","link", "list","header"],
                                "modules":{
                                    "toolbar": [
                                        ["bold", "italic", "underline"], 
                                        [{ "header": [2,3,false] }],
                                        [{ "list": "ordered" }, { "list": "bullet" }],
                                        ["link"]
                                    ]
                                },
                                "theme": "snow"
                            } 
                        }
                     },
                    {"type": "image", "element":"pnsk-structured-editor-image", "lable":"External image"},
                    {"type": "blockquote", "element":"pnsk-structured-editor-blockquote", "lable":"Blockquote",
                        "config":{
                            "formats":{"right":"Float right","left":"Float left"}
                        }
                    },
                    {"type": "anchor", "element":"pnsk-structured-editor-anchor", "lable":"Anchor"},
                    {"type": "javascript", "element":"pnsk-structured-editor-javascript", "lable":"Javascript"},
                    {"type": "legacy-html", "element":"pnsk-structured-editor-legacy-html", "lable":"Legacy HTML"},
                    {"type": "youtube", "element":"pnsk-structured-editor-youtube", "lable":"YouTube video"}, 
                    {"type": "vimeo", "element":"pnsk-structured-editor-vimeo", "lable":"Vimeo video"}, 
                    {"type": "soundcloud", "element":"pnsk-structured-editor-soundcloud", "lable":"Soundcloud track"}, 
                    {"type": "facebook-post", "element":"pnsk-structured-editor-facebook-post", "lable":"Facebook post"}, 
                    {"type": "tiktok-post", "element":"pnsk-structured-editor-tiktok-post", "lable":"TikTok post"}, 
                    {"type": "tweet", "element":"pnsk-structured-editor-tweet", "lable":"Tweet", 
                        "config":{"oembedProxyUrl":"http://localhost:8080/journal/listen/?cmd=OembedProxy&type=tweet&url="} 
                    },
                    {"type": "twitter-timeline", "element":"pnsk-structured-editor-twitter-timeline", "lable":"Twitter timeline", 
                        "config":{"oembedProxyUrl":"http://localhost:8080/journal/listen/?cmd=OembedProxy&type=tweet&url="} 
                    },
                    {"type": "iframe", "element":"pnsk-structured-editor-iframe", "lable":"Iframe (Last resort!)"}

                ]'
                disallowed-creation-types='["legacy-html"]'
        >
            <input type="text" name="editor-output" class="editorstate"
                   value=''>
        </pnsk-structured-editor>
        <input type="submit">
    </form>

    <script>
        window.addEventListener("WebComponentsReady", function(){
            var el = document.querySelector('pnsk-structured-editor');
            //el.addBlock("p", 0);
        });
        
    </script>

</body>
</html>
